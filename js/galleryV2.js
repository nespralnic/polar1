// hardcode pictures
let picsBase = [
    {
    "id": 1,
    "url": "./img/pelis/afterthe.jpeg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt6085412/"
    },
    {
    "id": 2,
    "url": "./img/pelis/reygitano.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt3902698/"
    },
        {
    "id": 3,
    "url": "./img/pelis/biutiful.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt1164999/"
    },
    {
    "id": 4,
    "url": "./img/pelis/blackhollow.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt5687424/"
    },   
    {
    "id": 5,
    "url": "./img/pelis/bloodbonding.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt6210096/"
    },
        {
    "id": 6,
    "url": "./img/pelis/contetrencat.jpeg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt9791788/"
    },
    {
    "id": 7,
    "url": "./img/pelis/cruzdelsur.jpeg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt1954353/"
    },
    {
    "id": 8,
    "url": "./img/pelis/diezmil.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt3114132/"
    },
    {
    "id": 9,
    "url": "./img/pelis/elperdido.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt5152982/"
    },
        {
    "id": 10,
    "url": "./img/pelis/exile.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt6594342/"
    },
    {
    "id": 11,
    "url": "./img/pelis/lagallina.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt3172352/"
    },   
    {
    "id": 12,
    "url": "./img/pelis/luz.jpg",
    "categories": [],
    "link": "https://m.imdb.com/title/tt8422618/" 
    },
        {
    "id": 13,
    "url": "./img/pelis/maniac.jpeg",
    "categories": [],
    "link": "https://m.imdb.com/title/tt5516586/"
    },
    {
    "id": 14,
    "url": "./img/pelis/tabus.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt12485250/"
    },
    {
    "id": 15,
    "url": "./img/pelis/nana.jpeg",
    "categories": [],
    "link": "https://www.filmaffinity.com/es/film669440.html"
    },   
    {
    "id": 16,
    "url": "./img/pelis/plenamar.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt2088872/"
    },
    {
    "id": 17,
    "url": "./img/pelis/prescindibles.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt3074686/"
    },
    {
    "id": 18,
    "url": "./img/pelis/recursoshumanos.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt2243505/"
    },
    {
    "id": 19,
    "url": "./img/pelis/red dress.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt8403520/"
    },
    {
    "id": 20,
    "url": "./img/pelis/todoparecia.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt3290680/"
    },
    {
    "id": 21,
    "url": "./img/pelis/elsquecallen.jpeg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt12524714/"
    },
    {
    "id": 22,
    "url": "./img/pelis/elaudifono.jpg",
    "categories": [],
    "link": "https://imdb.com/title/tt5135192/"
    },
    {
    "id": 23,
    "url": "./img/pelis/waterline.png",
    "categories": [],
    "link": "https://www.imdb.com/title/tt2058735/"
    },
    {
    "id": 24,
    "url": "./img/pelis/leyaley.jpeg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt6904188/"
    },
    {
    "id": 25,
    "url": "./img/pelis/thecrononaut.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt2512754/"
    },
    {
    "id": 26,
    "url": "./img/pelis/reytuerto.jpeg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt4555674/"
    },
    {
    "id": 27,
    "url": "./img/pelis/lasconstituyentes.jpeg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt2122380/"
    },
    {
    "id": 28,
    "url": "./img/pelis/passielquepassi.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt1852874/"
    },
    {
    "id": 29,
    "url": "./img/pelis/loquevaleunpeine.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt5572792/"
    },
    {
    "id": 30,
    "url": "./img/pelis/retrats.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt5684468/"
    },
    {
    "id": 31,
    "url": "./img/pelis/casamance.png",
    "categories": [],
    "link": "https://www.imdb.com/title/tt6297254/"
    },
    {
    "id": 32,
    "url": "./img/pelis/naughtman.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt1048160/"
    },
    {
    "id": 33,
    "url": "./img/pelis/nisaah.jpeg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt13260848/"
    },
    {
    "id": 34,
    "url": "./img/pelis/papagordo.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt2102395/"
    },
    {
    "id": 35,
    "url": "./img/pelis/lescosesgrans.jpg",
    "categories": [],
    "link": "https://www.imdb.com/title/tt2981562/"
    }
    
]


//open window on top
/*
window.onbeforeunload = () => {
    window.scrollTo(0,0)
}
*/

//DISPLAY DE CARDS

let cardContainer = document.querySelector(".card-container")
let scrollMax=0;
let lengthArray = 10
//let contadorIntervalo = 0


//fetch pictures
let arrayPic = []
picsBase.forEach(element => {
    arrayPic.push(element.url);
});

//console.log(arrayPic)

// starting foto delivery
//let arrayPic = [11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]
let counterPic = 0;
let totalPic = arrayPic.length

function deliverPic(arrayPic){
    
        //let x = arrayPic[counterPic]
        x = picsBase[counterPic]
        counterPic+=1
        return `<a href="${x.link}" target="_blank">
        <img src="${x.url}" alt="" class="card-image"></img></a>`
    }

let setDisplay = 0
function displayStartF(){
    let initialWidth = window.innerWidth

    switch (true) {
        /*case initialWidth > 2450 : setDisplay = 14; break;
        case initialWidth > 2275 : setDisplay = 13; break;
        case initialWidth > 2100 : setDisplay = 12; break;
        case initialWidth > 1925 : setDisplay = 11; break;
        case initialWidth > 1750 : setDisplay = 10; break;
        case initialWidth > 1675 : setDisplay = 9; break;*/
        case initialWidth > 1400 : setDisplay = 8; break;
        case initialWidth > 1225 : setDisplay = 7; break;
        case initialWidth > 1050 : setDisplay = 6; break;
        case initialWidth > 875 : setDisplay = 5; break;
        case initialWidth > 700 : setDisplay = 4; break;
        case initialWidth > 350 : setDisplay = 3; break;
        
        default:
            setDisplay = 2;
            break;
    }

    
    for (let index = 0; index < setDisplay*2; index++) {
        setTimeout(()=>{
            let contenido = document.createElement("div")
            contenido.classList.add("card","new-card")
            contenido.innerHTML = deliverPic(arrayPic)
            cardContainer.appendChild(contenido);
            if (index == (setDisplay*2)-1){
                let footer = document.querySelector(".card-container-footer")
                footer.classList.add("change")
            }
        },index*100)
        
    }
}

function displayMovieCards(amount){
    
    //check amount
    let picsLeft = totalPic - counterPic
    let button = document.querySelector(".card-container-masinfo")
    let buttonText = document.querySelector(".card-container-masinfo-text")
    if (amount > picsLeft) {
        amount = picsLeft
        button.classList.add('invisible')
    
    } 

    for (let index = 0; index < amount; index++) {
        
        setTimeout(()=>{
            
            let contenido = document.createElement("div")
            contenido.classList.add("card","new-card")
            contenido.innerHTML = deliverPic(arrayPic)
            cardContainer.appendChild(contenido);
            
        },index*100)
            
    }
}





//MAIN
//print 2 complete rows of initial cards depending on viewport size
displayMovieCards(14)



