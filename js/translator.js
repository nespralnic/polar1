//key must be dom element id
//left menu translations in leftMenus.js

let esp = {
    _language : 'esp',
    mainTitle1: "SONIDO DIRECTO",
    mainTitle2: "EDICION Y MEZCLA",
    sectionTitleDestacados: 'TRABAJOS<div class="section-title-underline active"></div>',
    sectionTitleDestacadosFooter: "Más trabajos!",
    parallaxSoluciones: "SOLUCIONES",
    parallaxSonoras: "SONORAS",
    sectionTitleEquipo: 'DISEÑO DE SONIDO<div class="section-title-underline active"></div>',
    equipoMasInfo1: "más info",
    equipoMasInfo2: "más info",
    equipoMasInfo3: "más info",
    sloganText: 'Diagrama Polar aporta una visión personal, conceptual y narrativa del audio como elemento indispensable en el desarrollo de una obra audiovisual.',
    sectionTitleContacto: 'CONTACTO<div class="section-title-underline active"></div>', 
    formName: "Nombre",
    email: "Correo electrónico",
    repeatEmail: "Repetir correo electrónico",
    message: "Mensaje",
    contactoEnviar: "ENVIAR"
}

let eng = {
    _language : 'eng',
    mainTitle1: "LOCATION SOUND",
    mainTitle2: "EDITING & MIXING",
    sectionTitleDestacados: 'PROJECTS<div class="section-title-underline active"></div>',
    sectionTitleDestacadosFooter: "More projects!",
    parallaxSoluciones: "SOUND",
    parallaxSonoras: "SOLUTION",
    sectionTitleEquipo: 'SOUND DESIGN<div class="section-title-underline active"></div>',
    equipoMasInfo1: "find more",
    equipoMasInfo2: "find more",
    equipoMasInfo3: "find more",
    sloganText: 'Diagrama Polar provides a personal, conceptual, and narrative vision of audio as an essential element in the development of an audiovisual work',
    sectionTitleContacto: 'CONTACT US<div class="section-title-underline active"></div>',
    formName: "Name",
    email: "E-mail",
    repeatEmail: "Repeat e-mail",
    message: "Message",
    contactoEnviar: "SEND"

}

let cat = {
    _language : 'cat',
    mainTitle1: "SO DIRECTE",
    mainTitle2: "EDICIÓ I MESCLA",
    sectionTitleDestacados: 'TREBALLS<div class="section-title-underline active"></div>',
    sectionTitleDestacadosFooter: "Més treballs!",
    parallaxSoluciones: "SOLUCIONS",
    parallaxSonoras: "SONORES",
    sectionTitleEquipo: 'DISSENY DÉ SO<div class="section-title-underline active"></div>',
    equipoMasInfo1: "més info",
    equipoMasInfo2: "més info",
    equipoMasInfo3: "més info",
    sloganText: "Diagrama Polar aporta una visió personal, conceptual i narrativa de l'àudio com a element indispensable en el desenvolupament d'una obra audiovisual",
    sectionTitleContacto: 'CONTACTE<div class="section-title-underline active"></div>', 
    formName: "Nom",
    email: "E-mail",
    repeatEmail: "Repetir e-mail",
    message: "Missatge",
    contactoEnviar: "ENVIAR"
}

let fra= {
    _language : 'fra',
    mainTitle1: "SON DIRECT",
    mainTitle2: "MONTAGE ET MIXAGE",
    sectionTitleDestacados: 'TRAVAUX<div class="section-title-underline active"></div>',
    sectionTitleDestacadosFooter: "Plus de travaux!",
    parallaxSoluciones: "SOLUTIONS",
    parallaxSonoras: "SONORES",
    sectionTitleEquipo: 'DESIGN SONORE<div class="section-title-underline active"></div>',
    equipoMasInfo1: "plus d´infos",
    equipoMasInfo2: "plus d´infos",
    equipoMasInfo3: "plus d´infos",
    sloganText: "Diagrama Polar offre une vision personnelle, conceptuelle et narrative du son en tant qu'élément indispensable dans le développement d'une œuvre audiovisuelle",
    sectionTitleContacto: 'CONTACT<div class="section-title-underline active"></div>', 
    formName: "Nom",
    email: "E-mail",
    repeatEmail: "Répéter l'email",
    message: "Message",
    contactoEnviar: "ENVOYER"
}

let por = {
    _language : 'por',
    mainTitle1: "SOM DIRETO",
    mainTitle2: "EDIÇÃO E MIXAGEM",
    sectionTitleDestacados: 'TRABALHOS<div class="section-title-underline active"></div>',
    sectionTitleDestacadosFooter: "Mais trabalhos!",
    parallaxSoluciones: "SOLUÇÕES",
    parallaxSonoras: "SONORAS",
    sectionTitleEquipo: 'DESIGN DE SOM<div class="section-title-underline active"></div>',
    equipoMasInfo1: "mais informações",
    equipoMasInfo2: "mais informações",
    equipoMasInfo3: "mais informações",
    sloganText: "Diagrama polar oferece uma visão pessoal, conceitual e narrativa do áudio como elemento indispensável no desenvolvimento de uma obra audiovisual.",
    sectionTitleContacto: 'CONTATO<div class="section-title-underline active"></div>', 
    formName: "Nome",
    email: "E-mail",
    repeatEmail: "Repetir e-mail",
    message: "Mensagem",
    contactoEnviar: "ENVIAR"
}

let ita = {
    _language : 'ita',
    mainTitle1: "SUONO IN PRESA DIRETTA",
    mainTitle2: "MONTAGGIO E MIX FINALE",
    sectionTitleDestacados: 'LAVORI<div class="section-title-underline active"></div>',
    sectionTitleDestacadosFooter: "Altri lavori!",
    parallaxSoluciones: "SOLUZIONI",
    parallaxSonoras: "SONORE",
    sectionTitleEquipo: 'SOUND DESIGN<div class="section-title-underline active"></div>',
    equipoMasInfo1: "Più info",
    equipoMasInfo2: "Più info",
    equipoMasInfo3: "Più info",
    sloganText: "Diagrama polar fornisce una visione personale, concettuale e narrativa dell'audio come elemento indispensabile nello sviluppo di un'opera audiovisiva",
    sectionTitleContacto: 'CONTATT<div class="section-title-underline active"></div>', 
    formName: "Nome",
    email: "E-mail",
    repeatEmail: "Ripetere e-mail",
    message: "Messaggio",
    contactoEnviar: "INVIARE"
}

let ucr = {
    _language : 'ucr',
    mainTitle1: 'БЕЗПОСЕРЕДНЄ ОЗВУЧУВАННЯ',
    mainTitle2: "МОНТАЖ ТА ЗВЕДЕННЯ",
    sectionTitleDestacados: 'РОБОТИ<div class="section-title-underline active"></div>',
    sectionTitleDestacadosFooter: "Більше робіт",
    parallaxSoluciones: "ЗВУКОВІ ",
    parallaxSonoras: "РІШЕННЯ",
    sectionTitleEquipo: 'ЗВУКОВИЙ ДИЗАЙН<div class="section-title-underline active"></div>',
    equipoMasInfo1: "Більше інформації",
    equipoMasInfo2: "Більше інформації",
    equipoMasInfo3: "Більше інформації",
    sloganText: "Diagrama polar пропонує особисте, концептуальне та наративне бачення аудіо як невід'ємного елементу у створенні аудіовізуального твору",
    sectionTitleContacto: "ЗВ'ЯЗАТИСЯ З НАМИ<div class='section-title-underline active'></div>", 
    formName: "Ім'я",
    email: "E-mail",
    repeatEmail: "Повторний e-mail",
    message: "Повідомлення",
    contactoEnviar: "Надіслати на адресу"
}

let heb = {
    _language : 'heb',
    mainTitle1: "צליל ישיר",
    mainTitle2: "חינוך וערבוב",
    sectionTitleDestacados: 'עבודות<div class="section-title-underline active"></div>',
    sectionTitleDestacadosFooter: "עוד עבודות",
    parallaxSoluciones: "פתרונות", 
    parallaxSonoras: "סולאריים",
    sectionTitleEquipo: 'עיצוב פסקול<div class="section-title-underline active"></div>',
    equipoMasInfo1: "מידע נוסף",
    equipoMasInfo2: "מידע נוסף",
    equipoMasInfo3: "מידע נוסף",
    sloganText: "Diagrama Polar מספקת חזון אישי, רעיוני ונרטיבי של אודיו כמרכיב חיוני בפיתוח יצירה אורקולית",
    sectionTitleContacto: 'איש קשר<div class="section-title-underline active"></div>', 
    formName: "שם ",
    email: "מייל",
    repeatEmail: "אימות מייל",
    message: "הודעה",
    contactoEnviar: "שליחה"
}

let chi = {
    _language : 'chi',
    mainTitle1: "直接发声",
    mainTitle2: "编辑和混音",
    sectionTitleDestacados: '作品<div class="section-title-underline active"></div>',
    sectionTitleDestacadosFooter: "更多作品",
    parallaxSoluciones: "声音解",
    parallaxSonoras: "决方案",
    sectionTitleEquipo: '声音设计<div class="section-title-underline active"></div>',
    equipoMasInfo1: "更多信息",
    equipoMasInfo2: "更多信息",
    equipoMasInfo3: "更多信息",
    sloganText: "Diagrama polar 提供了一个个人的、概念性的和叙事性的视野，将音频作为视听作品发展中不可缺少的元素。",
    sectionTitleContacto: '联系我们<div class="section-title-underline active"></div>', 
    formName: "姓名",
    email: "电子邮件",
    repeatEmail: "重复电子邮件",
    message: "留言",
    contactoEnviar: "发送至"
}

let eus = {
    _language : 'eus',
    mainTitle1: "ZUZENEKO SOINUA",
    mainTitle2: "EDIZIOA ETA NAHASKETA",
    sectionTitleDestacados: 'LANAK<div class="section-title-underline active"></div>',
    sectionTitleDestacadosFooter: "Lan gehiago!",
    parallaxSoluciones: "SOINU", 
    parallaxSonoras: "IRTENBIDEAK",
    sectionTitleEquipo: 'SOINU DISEINUA<div class="section-title-underline active"></div>',
    equipoMasInfo1: "Informazio gehiago",
    equipoMasInfo2: "Informazio gehiago",
    equipoMasInfo3: "Informazio gehiago",
    sloganText: "Diagrama polarrek soinuaren ikuspegi personala, kontzeptuala eta narratiboa dakar, ikus-entzunezko lanaren garapenean",
    sectionTitleContacto: 'KONTACKTUA<div class="section-title-underline active"></div>', 
    formName: "Izena",
    email: "Posta elektronikoa",
    repeatEmail: "Posta elektronikoa errepikatu",
    message: "Mezua",
    contactoEnviar: "Bidali"
}


let rus = {
    _language : 'rus',
    mainTitle1: "РЕЖИССУРА ЗВУКА",
    mainTitle2: "РЕДАКТИРОВАНИЕ И МИКШИРОВАНИЕ",
    sectionTitleDestacados: 'РАБОТЫ<div class="section-title-underline active"></div>',
    sectionTitleDestacadosFooter: "Больше работ",
    parallaxSoluciones: "ЗВУКОВЫЕ", 
    parallaxSonoras: "РЕШЕНИЯ",
    sectionTitleEquipo: 'ЗВУКОВОЙ ДИЗАЙН<div class="section-title-underline active"></div>',
    equipoMasInfo1: "Больше информации",
    equipoMasInfo2: "Больше информации",
    equipoMasInfo3: "Больше информации",
    sloganText: "Diagrama polar предоставляет личное, концептуальное и повествовательное видение аудио как неотъемлемого элемента в разработке аудиовизуального произведения",
    sectionTitleContacto: 'СВЯЗАТЬСЯ С<div class="section-title-underline active"></div>', 
    formName: "Имя",
    email: "Электронная почта",
    repeatEmail: "Повторить электронную почту",
    message: "Сообщение",
    contactoEnviar: "Отправить на"
}

let nor = {
    _language : 'nor',
    mainTitle1: "LIVE LYD",
    mainTitle2: "REDIGERING OG MIKSING", 
    sectionTitleDestacados: 'ARBEIDSPLASSER<div class="section-title-underline active"></div>',
    sectionTitleDestacadosFooter: "Flere jobber!",
    parallaxSoluciones: "LYDLØS",
    parallaxSonoras: "NINGER",
    sectionTitleEquipo: 'LYDDESIGN<div class="section-title-underline active"></div>',
    equipoMasInfo1: "Mer informasjon",
    equipoMasInfo2: "Mer informasjon",
    equipoMasInfo3: "Mer informasjon",
    sloganText: "Polardiagram (ikke oversett dette) gir en personlig, konseptuell og narrativ visjon av lyd som et vesentlig element i utviklingen av et audiovisuelt verk",
    sectionTitleContacto: 'KONTAKT<div class="section-title-underline active"></div>', 
    formName: "Navn",
    email: "E-post",
    repeatEmail: "Gjenta e-post",
    message: "Beskjed",
    contactoEnviar: "SENDE"
}

let jap = {
    _language : 'jap',
    mainTitle1: "ロケーションサウンド",
    mainTitle2: "編集, ミキシング",
    sectionTitleDestacados: 'プロジェクト<div class="section-title-underline active"></div>',
    sectionTitleDestacadosFooter: "その他のプロジェクト",
    parallaxSoluciones: "サウンドソ",
    parallaxSonoras: "リューション",
    sectionTitleEquipo: '音響デザイン<div class="section-title-underline active"></div>',
    equipoMasInfo1: "詳細情報",
    equipoMasInfo2: "詳細情報",
    equipoMasInfo3: "詳細情報",
    sloganText: "は、オーディオビジュアル作品に不可欠な要素であるオーディオの個性的でコンセプチュアル、そして物語的なビジョンを提供しています。",
    sectionTitleContacto: 'コンタクト<div class="section-title-underline active"></div>', 
    formName: "名前",
    email: "メール",
    repeatEmail: "確認用Eメール",
    message: "メッセージ",
    contactoEnviar: "送信"
}

let forwardMessage = document.getElementById("forward-message")

const translating = (Obj) => {
    currentLanguage = Obj['_language']
    languageButtonsUpdate(currentLanguage)
    
    Object.keys(Obj).forEach((key) => {
        let el = document.getElementById(key)
        if (el == null) {
            return
        }else{
            //if value is empty print ESP
            if (Obj[key] == ''){
                //check if its input type
                (el.type == "text" || el.type == "textarea") ? el.placeholder = esp[key] : el.innerHTML = esp[key]
            } else {
                //chek if its input or textarea type
                (el.type == "text" || el.type == "textarea") ? el.placeholder = Obj[key] : el.innerHTML = Obj[key] 
            }
        }   
    })

    forwardMessage.value = 'https://nespralnic.github.io/polar1/home.html?lan=' + currentLanguage + 'scss=1#contacto'

}

let currentLanguage = 'esp'


let queryParams = new URLSearchParams(window.location.search);
let queryEntries = queryParams.entries();
let { lan } = Object.fromEntries(queryEntries);

console.log(lan)

window.onload = () => {

    //get current language from browser
    let selected = ""    
    let switchOption = navigator.language

    //get language from queryString
    let checkQueryManipulation = (lan == 'esp' || lan == "eng" || lan == "cat" || lan == "fra" || lan == "ita" || lan == "por" || lan == "ucr"|| lan == "heb"|| lan == "chi"|| lan == "eus"|| lan == "rus")
    if (lan != 'undefined' && checkQueryManipulation){
        switchOption = lan
    }

    console.log(switchOption);

    switch (switchOption) {
        case 'es-ES':
        case 'es':
        case 'esp':
            selected = esp
            currentLanguage = 'esp'
            break;
        case 'ca':
        case 'cat':
            selected = cat
            currentLanguage = 'cat'
            break;
        case 'en':
        case 'eng':
            selected = eng
            currentLanguage = 'eng'
            break;
        case "pt":
        case "pt-BR":
        case "por":
            selected = por
            currentLanguage = 'por'
            break;
        case "it":
        case "ita":
            selected = ita
            currentLanguage = 'ita'
            break;
        case 'ucr':
        case 'uk':
            selected = ucr
            currentLanguage = 'ucr'
            break;
        case "he":
        case "heb":
            selected = heb
            currentLanguage = 'heb'
            break;
        case "zh":
        case "zh-CN":
        case "chi":
            selected = chi
            currentLanguage = 'chi'
            break;
        case "eus":
            selected = eus
            currentLanguage = 'eus'
            break;
        case "rus":
        case "ru":
            selected = rus
            currentLanguage = 'rus'
            break;
        case "nor":
        case "no":
            selected = nor
            currentLanguage = 'nor'
            break;
        case "ja":
        case "jpn":
            selected = jap
            currentLanguage = 'jap'
            break;
        
        
        default:
            console.log('oy')
            selected = esp
            currentLanguage = 'esp'
            break;
    }

    

    console.log(currentLanguage);
    
    //esp is default
    if (currentLanguage != 'esp'){
        languageButtonsUpdate(currentLanguage)
        translating(selected)
    }
    startObserver()
}

// language buttons
function languageButtonsUpdate(lan){
    const langs = ['esp','eng', 'cat', 'fra','por','ita','ucr','heb','chi','eus','rus','nor','jap']
    let content = ""
    let languageBox = document.querySelector('.language-box')

    langs.forEach( lng => {
        if (lng != lan){
            content += '<div class="box" onclick="translating('+ lng +')"><img src="./img/flag/bandera-'+ lng +'.PNG" title="'+ lng.toUpperCase() +'"></div>'
        }
    })

    languageBox.innerHTML = content

}
